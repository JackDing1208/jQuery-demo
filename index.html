<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>JS Bin</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
<ul>
    <li>列表1</li>
    <li>列表2</li>
    <li>列表3</li>
    <li>列表4</li>
    <li>列表5</li>
    <li>列表6</li>
</ul>
</body>
<script>
    window.jQuery = function (nodeOrSelector) {    //将给到的节点或选择器构造成新对象
        let nodes = {}
        if (typeof nodeOrSelector === 'string') {     //判断参数类型
            let temp = document.querySelectorAll(nodeOrSelector); //不要多余的属性，得到纯净的伪数组
            for (let i = 0; i < temp.length; i++) {
                nodes[i] = temp[i]
            }
            nodes.length = temp.length  //不设置length后面遍历会出问题
        } else if (nodeOrSelector instanceof Node) {
            nodes[0] = nodeOrSelector
            nodes.length = 1
        }

        nodes.addClass = function (value) {         //添加新属性addClass,使用DOM来构造新的函数
            for (let i = 0; i < nodes.length; i++) {
                nodes[i].classList.add(value)
            }
        }
        nodes.setText = function (text) {           //添加新属性setText,使用DOM来构造新的函数
            for (let i = 0; i < nodes.length; i++) {
                nodes[i].textContent = text
            }
        }
        /*nodes.addClass = function (classes) {
            classes.forEach((value) => {
                for (let i = 0; i < nodes.length; i++) {
                    nodes[i].classList.add(value)
                }
            })
        }        用forEach给的值必须是数组的形式！！！*/

        return nodes     //返回的新对象
    }

    window.$=jQuery  //默认全局声明
    let $x = jQuery('ul>li')
    console.log($x)
    $x.addClass('red')
    $x.setText('选项')


</script>

</html>